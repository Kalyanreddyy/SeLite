<html>
<head>
  <meta charset="utf-8"></meta>
  <title>Simple</title>
  <!-- As of March 2016, PURE is the easiest engine listed on https://developer.mozilla.org/en-US/docs/JavaScript_templates -->
  <script type="text/javascript" src="https://raw.githubusercontent.com/peter-kehl/pure/master/libs/pure.js"></script><!-- https://raw.githubusercontent.com/pure/pure/master/libs/pure.js
 -->
  <script type="text/javascript">
      //<![CDATA[
      "use strict";
      var config= {
          dataParameterName: 'seLitePreviewData',
          inHash: true,
          base64: false
      };
      
       document.onreadystatechange= ()=>{
          if (document.readyState==="complete") {
            
            var encodedJSON;
            if( config.inHash ) {
                if( location.hash.length>0 ) {
                    encodedJSON= location.hash.substring(1);
                }
            }
            else {
                if( location.search.length>0 ) {
                    var parameterPrefix= '&'+config.dataParameterName+'=';
                    var parameterStart= location.search.indexOf( parameterPrefix );
                    if( parameterStart ) {
                        parameterStart+= parameterPrefix.length;
                        var parameterEnd= location.search.indexOf( '=', parameterStart );
                        encodedJSON= parameterEnd>0
                            ? location.search.substring( parameterStart, parameterEnd )
                            : location.search.substring( parameterStart );
                    }
                }
            }
            
            if( encodedJSON!==undefined ) {
                var json= config.base64
                    ? atob(encodedJSON)
                    : decodeURIComponent(encodedJSON);
                var data= JSON.parse(json);
                        
                // See https://beebole.com/pure/
                var directive = {
                    'li':{
                        'data<-':{
                            'a': 'data',
                            'a@data-text': 'data'
                        }
                    }
                };
                // As per https://groups.google.com/forum/#!searchin/Pure-Unobtrusive-Rendering-Engine/pure$20without$20jquery/pure-unobtrusive-rendering-engine/Cmt1bqfsZLg/rhGP8ZqfliAJ
                $p('#results').render( data, directive );

                var results= document.getElementById('results');
            }
          }
        };
      //]]>
  </script>
</head>
<body>
    <div id="results">
        <ul>
          <li>
              <a data-mood="happy" href=""></a>
          </li>
        </ul>
    </div>
</body>
</html>